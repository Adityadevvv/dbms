SET SERVEROUTPUT ON;

DECLARE
    num NUMBER := &num;
    temp NUMBER;
    rem NUMBER;
    vsum NUMBER := 0;  -- Changed from sum to vsum
    digits NUMBER := 0;
    n NUMBER;
BEGIN
   
    temp := num;
    n := temp;

    -- SECTION 1: Count the number of digits
    IF n = 0 THEN 
        digits := 1; 
    ELSE
        WHILE n > 0 LOOP
            digits := digits + 1;
            n := FLOOR(n / 10);
        END LOOP;
    END IF;
    
    temp := num;
    WHILE temp > 0 LOOP
        rem := MOD(temp, 10);
        vsum := vsum + POWER(rem, digits); -- Changed variable name
        temp := FLOOR(temp / 10);
    END LOOP;

    IF vsum = num THEN -- Changed variable name
        DBMS_OUTPUT.PUT_LINE(num || ' is an Armstrong number (Base: ' || digits || ').');
    ELSE
        DBMS_OUTPUT.PUT_LINE(num || ' is not an Armstrong number. Calculated sum: ' || vsum); -- Changed variable name
    END IF;
END;
/
